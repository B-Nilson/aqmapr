% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/load_data.R
\name{load_recent_aqmap_data}
\alias{load_recent_aqmap_data}
\title{Load most recent AQmap observation data}
\usage{
load_recent_aqmap_data(
  network_monitors = list(agency = "fem", lcm = c("pa", "egg")),
  desired_cols = c(site_id = "sensor_index", name = "monitor", "network", "monitor_type",
    "lat", "lng", "prov_terr", date_last_obs = "date", pm25_10min = "pm25_recent",
    "pm25_1hr", "pm25_3hr", "pm25_24hr"),
  id_columns = c("site_id", "network", "lat", "lng", "date_last_obs"),
  data_dir = tempdir()
)
}
\arguments{
\item{network_monitors}{(Optional).
A list of allowed network names to assing each monitor type ("fem", "pa", "egg") to.
Default groups "fem" monitors as "agency", and "pa" + "egg" monitors as "lcm".}

\item{desired_cols}{(Optional).
A vector of column names to load.
Value names, where present, will be used to rename that column.
Default loads all columns.}

\item{id_columns}{(Optional).
A vector of column names to use as unique identifiers.
Will drop any rows with missing values for these columns.
Default is c("site_id", "network", "lat", "lng", "date_last_obs").}

\item{data_dir}{(Optional).
The directory to write the downloaded data file to (acts as a cache).
Default is a temporary directory [see \link{tempdir}].}
}
\description{
Load the most recent AQmap observation data from
https://aqmap.ca/aqmap/aqmap_most_recent_obs.Rds
which is updated every 10 minutes alongside AQmap.

Alternativley, you can run \link{start_server} to host an AQmapr app locally,
which exposes the results of this function (by default) at 127.0.0.1:8000/data/recent/:type
where :type is one of "json", "csv", or "tsv".
}
